(()=>{"use strict";var e=document.querySelector(".places");function t(e,t){var n,r,c=document.querySelector("#place").content.querySelector(".places__frame").cloneNode(!0),p=c.querySelector(".places__element"),u=c.querySelector(".places__description");return p.src=e,p.alt=t,u.textContent=t,(n=c.querySelector(".places__button")).addEventListener("click",(function(){n.classList.toggle("places__button-active")})),(r=c).querySelector(".places__delete-button").addEventListener("click",(function(){r.closest(".places__frame").remove()})),function(e,t){e.addEventListener("click",(function(){var n=document.querySelector("#popup__full-image");o(n);var r=n.querySelector(".popup__image");r.src=e.src,r.alt=t.textContent,n.querySelector(".popup__image-description").textContent=t.textContent}))}(p,u),c}function n(t,n){!0===n?e.prepend(t):e.append(t)}function o(e){e.classList.add("popup_opened")}function r(){document.querySelector(".popup_opened").classList.remove("popup_opened")}function c(e){"popup-profile"===e.id?function(e){var t=e.querySelector("#popup-form-name"),n=e.querySelector("#popup-form-info"),o=document.querySelector(".profile__name"),c=document.querySelector(".profile__description");o.textContent=t.value,c.textContent=n.value,r()}(e):"popup-places"===e.id&&function(e){var o=e.querySelector("#popup-form-place");n(t(e.querySelector("#popup-form-link").value,o.value),!0),r()}(e)}function p(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove("popup__button-inactive"),t.disabled=!1):(t.classList.add("popup__button-inactive"),t.disabled=!0)}var u=document.querySelector("#popup-profile"),i=document.querySelector(".profile__edit-button"),a=Array.from(document.querySelectorAll(".popup__close-button")),l=document.querySelector("#popup-places"),s=document.querySelector(".profile__add-button");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){n(t(e.link,e.name),!1)})),Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e){var t=Array.from(e.querySelectorAll(".popup__form-text")),n=e.querySelector(".popup__button");p(t,n),t.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));n.classList.remove("popup__input-error-active"),n.textContent="",t.classList.remove("popup__form-text-error")}(e,t):function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));o.classList.add("popup__input-error-active"),o.textContent=n,t.classList.add("popup__form-text-error")}(e,t,t.validationMessage)}(e,o),p(t,n)}))}))}(e)})),i.addEventListener("click",(function(){o(u)})),a.forEach((function(e){e.addEventListener("click",(function(){r()}))})),u.addEventListener("submit",(function(){c(u)})),s.addEventListener("click",(function(){o(l)})),l.addEventListener("submit",(function(){c(l)})),document.addEventListener("click",(function(e){var t=document.querySelector(".popup_opened");e.target===t&&r()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&r()}))})();